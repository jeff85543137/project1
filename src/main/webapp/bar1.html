<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script type="text/javascript" src="js/echarts.common.min.js"></script>
<script type="text/javascript" src="js/jquery.min.js"></script>
</head>
<body>
<div id="mychar" style="width:600px;height:400px;"></div>
<script type="text/javascript">
var mychart= echarts.init(document.getElementById('mychar'));
/* var option ={
	title:{
		text:'AJAX异步调用显示柱状图'
	},
	tooltip:{},
	legend:{
		data:['成绩']
	},
	xAxis:{
		data:[]
	},
	yAxis:{
		
	},
	series:[{
		name:'成绩',
		type:'bar',
		data:[]
	}]
	
};
mychart.setOption(option); 
mychart.showLoading();*/
var names=[];
var scores = [];
$.ajax({
	type:"post",
	url:"getAllStu",
	data:{},
	dataType:"json",
	success:function(result){
		if(result){
			for(var i =0;i<result.length;i++){
				names.push(result[i].name);
				scores.push(result[i].score);
			}
			mychart.hideLoading();
			mychart.setOption({
				/* xAxis:{
					data:names
				},
				series:[{
					name:'成绩',
					type:'bar',
					data:scores
				}] */
				
						title:{
				text:'AJAX异步调用显示柱状图'
			},
			tooltip:{},
			legend:{
				data:['成绩']
			},
			xAxis:{
				data:names
			},
			yAxis:{
				
			},
			series:[{
				name:'成绩',
				type:'line',
				data:scores
			}]
			})
		}
	}
})
</script>
</body>
</html>